<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  metal:use-macro="context/@@groupserver_site_home_layout/page">
  <head>
  	<title metal:fill-slot="title">
      Posts in
      <span tal:replace="view/groupInfo/name"/>:
      <span tal:replace="view/siteInfo/name"/>
    </title>
    
    <tal:block metal:fill-slot="metadata" 
      tal:define="global postURLPrefix string:p/;
      global topicURLPrefix string:t/;
      global earlierURL view/get_earlier_url;
      global laterURL view/get_later_url;
      global lastChunkURL view/get_last_url">

      <link rel="first" href="posts.html" title="Most recent posts"
        tal:condition="laterURL" />
      <link rel="previous" href="#" title="Later posts"
        tal:condition="laterURL"
        tal:attributes="href laterURL" />
      <link rel="next" href="#" title="Earlier posts"
        tal:condition="earlierURL"
        tal:attributes="href earlierURL" />
      <link rel="last" title="The oldest posts"
        tal:condition="earlierURL"
        tal:attributes="href lastChunkURL" />
      <link rel="up" href="#"
        tal:attributes="title view/groupInfo/name;
        href view/groupInfo/relativeURL" />
      <link rel="alternate" title="ATOM Feed" type="application/atom+xml"
        href="#" 
        tal:attributes="title string:Posts in ${view/groupInfo/name};
        href view/web_feed_uri" />
    </tal:block>
  </head>
  
  <body>
    <div class="hatom" metal:fill-slot="body"
         tal:define="postList view/posts;
                     post_count python:len(postList)">
      <h1>Posts in
        <span class="group"
          tal:content="view/groupInfo/name"/></h1>
      <tal:block tal:define="len view/chunkLength">
        <ul class="inline-list navlinks">
          <li>
            <a href="#" tal:condition="laterURL" class="prev"
              tal:attributes="href laterURL;
              title string:The ${len} more recent posts;">Later 
              <span tal:replace="len">-1</span> posts</a>
            <span tal:condition="not:laterURL" class="prev">Later
              <span tal:replace="len">-1</span> posts
            </span>
          </li>
          <li>
            <a class="group up"
              tal:attributes="title string:${view/groupInfo/name};
                  href view/groupInfo/relativeURL;"
              href="#">Group</a></li>
          <li>
          <li>
            <a href="#" tal:condition="earlierURL" class="next"
              tal:attributes="href earlierURL;
              title string:The ${len} older posts;">Earlier
              <span tal:replace="len">-1</span> posts</a>
            <span tal:condition="not:earlierURL" class="next">Earlier
              <span tal:replace="len">-1</span> posts
            </span>
          </li>
        </ul>
      </tal:block>
      <div class="postList" 
        tal:condition="python:post_count > 0">
        <tal:block repeat="post postList">
          <p tal:define="position repeat/post/number; 
            topicName post/subject;
            isPublic view/isPublic"
            tal:replace="structure provider:groupserver.Post">
            The email message is rendered by the Post content provider,
            not by this page.
          </p>
        </tal:block>
      </div><!--postList-->
      <p tal:condition="python:not(post_count > 0)">
        There are no posts in this group.
      </p>
      <tal:block tal:define="len view/chunkLength">
        <ul class="inline-list navlinks">
          <li>
            <a href="#" tal:condition="laterURL" class="prev"
              tal:attributes="href laterURL;
              title string:The ${len} more recent posts;">Later 
              <span tal:replace="len">-1</span> posts</a>
            <span tal:condition="not:laterURL" class="prev">Later
              <span tal:replace="len">-1</span> posts
            </span>
          </li>
          <li>
            <a href="#" tal:condition="earlierURL" class="next"
              tal:attributes="href earlierURL;
              title string:The ${len} older posts;">Earlier
              <span tal:replace="len">-1</span> posts</a>
            <span tal:condition="not:earlierURL" class="next">Earlier
              <span tal:replace="len">-1</span> posts
            </span>
          </li>
        </ul>
      </tal:block>
    </div><!--hatom-->
    <tal:block metal:fill-slot="javascript">
        <script type="text/javascript"
                src="/++resource++sharebox-20100721.js">&#160;</script>
    </tal:block>
  </body>
</html>

